<Window x:Class="BAT_Man.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Login" Height="350" Width="400"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource AppBackground}">

    <!-- 
        LOGIN-FENSTER:
        Stellt den ersten Bildschirm der Anwendung dar (Initialisierung in App.xaml.cs).
        Da es sich um ein Top-Level-Fenster handelt, wird hier keine Navigation 
        via DataTemplates verwendet.
    -->

    <StackPanel Margin="20" HorizontalAlignment="Center" VerticalAlignment="Center">

        <Label Content="Reha-Nummer:" Foreground="{DynamicResource TextForeground}"/>

        <!-- 
            BINDING: RehaNummer
            Verknüpft die TextBox mit der Eigenschaft 'RehaNummer' im LoginViewModel.
            'UpdateSourceTrigger=PropertyChanged' gewährleistet, dass die Validierung 
            oder Prüfung bereits während der Eingabe erfolgen kann.
        -->
        <TextBox Text="{Binding RehaNummer, UpdateSourceTrigger=PropertyChanged}" 
                 Width="250" Margin="0,0,0,10"/>

        <Label Content="Passwort:" Foreground="{DynamicResource TextForeground}"/>

        <!-- 
            PASSWORDBOX:
            Die Eigenschaft 'Password' ist keine DependencyProperty und erlaubt kein Binding 
            (Sicherheitsmechanismus von WPF).
            Das Element erhält einen Namen (x:Name="textPasswort"), um im XAML referenziert zu werden.
        -->
        <PasswordBox x:Name="textPasswort" Width="250" Margin="0,0,0,20"/>

        <Grid Width="250" Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- 
                LOGIN BUTTON:
                Command: Löst die Methode 'ExecuteLogin' im ViewModel aus.
                CommandParameter: Übergibt das 'PasswordBox'-Element an das ViewModel.
                Dort wird das Passwort sicher ausgelesen.
            -->
            <Button x:Name="btnLogin" 
                    Grid.Column="0" 
                    Content="Anmelden"
                    HorizontalAlignment="Left" 
                    IsDefault="True"
                    
                    Command="{Binding LoginCommand}"
                    CommandParameter="{Binding ElementName=textPasswort}"/>

            <Button x:Name="btnAbbrechen" 
                    Grid.Column="1" 
                    Content="Abbrechen" 
                    HorizontalAlignment="Right" 
                    IsCancel="True"
                    
                    Command="{Binding AbbrechenCommand}"/>

        </Grid>

    </StackPanel>
</Window>