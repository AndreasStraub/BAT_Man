<Window x:Class="WPF_Test.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Login" Height="350" Width="400"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource AppBackground}">

    <!-- 
        Login-Fenster
        Dies ist der erste Screen der Anwendung (gestartet durch App.xaml.cs).
        Es nutzt keine MVVM-Navigation via DataTemplates, da es ein eigenständiges Fenster ist.
    -->

    <StackPanel Margin="20" HorizontalAlignment="Center" VerticalAlignment="Center">

        <Label Content="Reha-Nummer:" Foreground="{DynamicResource TextForeground}"/>

        <!-- 
            Binding: RehaNummer
            Verbindet diese Textbox mit der Eigenschaft 'RehaNummer' im LoginViewModel.
            UpdateSourceTrigger=PropertyChanged sorgt dafür, dass jeder Tastendruck sofort im ViewModel ankommt.
        -->
        <TextBox Text="{Binding RehaNummer, UpdateSourceTrigger=PropertyChanged}" 
                 Width="250" Margin="0,0,0,10"/>

        <Label Content="Passwort:" Foreground="{DynamicResource TextForeground}"/>

        <!-- 
            PasswordBox:
            Kann nicht direkt gebunden werden (Sicherheitsfeature von WPF).
            Dem Element wird ein Namen (x:Name="textPasswort") gegeben, um es später referenzieren zu können.
        -->
        <PasswordBox x:Name="textPasswort" Width="250" Margin="0,0,0,20"/>

        <Grid Width="250" Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- 
                Login Button:
                Command: Löst die Methode 'ExecuteLogin' im ViewModel aus.
                CommandParameter: Übergibt das gesamte PasswordBox-Element an das ViewModel,
                um das Passwort sicher ins ViewModel zu bekommen, ohne Binding.
            -->
            <Button x:Name="btnLogin" 
                    Grid.Column="0" 
                    Content="Anmelden"
                    HorizontalAlignment="Left" 
                    IsDefault="True"
                    
                    Command="{Binding LoginCommand}"
                    CommandParameter="{Binding ElementName=textPasswort}"/>

            <Button x:Name="btnAbbrechen" 
                    Grid.Column="1" 
                    Content="Abbrechen" 
                    HorizontalAlignment="Right" 
                    IsCancel="True"
                    
                    Command="{Binding AbbrechenCommand}"/>

        </Grid>

    </StackPanel>
</Window>